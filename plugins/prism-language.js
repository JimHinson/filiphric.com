(function () {

	if (typeof self === 'undefined' || !self.Prism || !self.document) {
		return;
	}

	if (!Prism.plugins.toolbar) {
		console.warn('Show Languages plugin loaded before Toolbar plugin.');

		return;
	}

	// The languages map is built automatically with gulp
	var Languages = /*languages_placeholder[*/{
		"none": "",
		"html": "HTML",
		"xml": "XML",
		"svg": "SVG",
		"mathml": "MathML",
		"ssml": "SSML",
		"rss": "RSS",
		"css": "CSS",
		"clike": "C-like",
		"js": "JavaScript",
		"abap": "ABAP",
		"abnf": "ABNF",
		"al": "AL",
		"antlr4": "ANTLR4",
		"g4": "ANTLR4",
		"apacheconf": "Apache Configuration",
		"apl": "APL",
		"aql": "AQL",
		"arff": "ARFF",
		"asciidoc": "AsciiDoc",
		"adoc": "AsciiDoc",
		"aspnet": "ASP.NET (C#)",
		"asm6502": "6502 Assembly",
		"autohotkey": "AutoHotkey",
		"autoit": "AutoIt",
		"basic": "BASIC",
		"bbcode": "BBcode",
		"bnf": "BNF",
		"rbnf": "RBNF",
		"bsl": "BSL (1C:Enterprise)",
		"oscript": "OneScript",
		"csharp": "C#",
		"cs": "C#",
		"dotnet": "C#",
		"cpp": "C++",
		"cil": "CIL",
		"cmake": "CMake",
		"coffee": "CoffeeScript",
		"conc": "Concurnas",
		"csp": "Content-Security-Policy",
		"css-extras": "CSS Extras",
		"dax": "DAX",
		"django": "Django/Jinja2",
		"jinja2": "Django/Jinja2",
		"dns-zone-file": "DNS zone file",
		"dns-zone": "DNS zone file",
		"dockerfile": "Docker",
		"ebnf": "EBNF",
		"editorconfig": "EditorConfig",
		"ejs": "EJS",
		"etlua": "Embedded Lua templating",
		"erb": "ERB",
		"excel-formula": "Excel Formula",
		"xlsx": "Excel Formula",
		"xls": "Excel Formula",
		"fsharp": "F#",
		"firestore-security-rules": "Firestore security rules",
		"ftl": "FreeMarker Template Language",
		"gml": "GameMaker Language",
		"gamemakerlanguage": "GameMaker Language",
		"gcode": "G-code",
		"gdscript": "GDScript",
		"gedcom": "GEDCOM",
		"glsl": "GLSL",
		"graphql": "GraphQL",
		"hs": "Haskell",
		"hcl": "HCL",
		"hlsl": "HLSL",
		"http": "HTTP",
		"hpkp": "HTTP Public-Key-Pins",
		"hsts": "HTTP Strict-Transport-Security",
		"ichigojam": "IchigoJam",
		"ignore": ".ignore",
		"gitignore": ".gitignore",
		"hgignore": ".hgignore",
		"npmignore": ".npmignore",
		"inform7": "Inform 7",
		"javadoc": "JavaDoc",
		"javadoclike": "JavaDoc-like",
		"javastacktrace": "Java stack trace",
		"jq": "JQ",
		"jsdoc": "JSDoc",
		"js-extras": "JS Extras",
		"json": "JSON",
		"webmanifest": "Web App Manifest",
		"json5": "JSON5",
		"jsonp": "JSONP",
		"jsstacktrace": "JS stack trace",
		"js-templates": "JS Templates",
		"kts": "Kotlin Script",
		"kt": "Kotlin",
		"latex": "LaTeX",
		"tex": "TeX",
		"context": "ConTeXt",
		"lilypond": "LilyPond",
		"ly": "LilyPond",
		"emacs": "Lisp",
		"elisp": "Lisp",
		"emacs-lisp": "Lisp",
		"llvm": "LLVM IR",
		"lolcode": "LOLCODE",
		"md": "Markdown",
		"markup-templating": "Markup templating",
		"matlab": "MATLAB",
		"mel": "MEL",
		"mongodb": "MongoDB",
		"moon": "MoonScript",
		"n1ql": "N1QL",
		"n4js": "N4JS",
		"n4jsd": "N4JS",
		"nand2tetris-hdl": "Nand To Tetris HDL",
		"naniscript": "Naninovel Script",
		"nani": "Naninovel Script",
		"nasm": "NASM",
		"neon": "NEON",
		"nginx": "nginx",
		"nsis": "NSIS",
		"objectivec": "Objective-C",
		"objc": "Objective-C",
		"ocaml": "OCaml",
		"opencl": "OpenCL",
		"parigp": "PARI/GP",
		"objectpascal": "Object Pascal",
		"pcaxis": "PC-Axis",
		"px": "PC-Axis",
		"peoplecode": "PeopleCode",
		"pcode": "PeopleCode",
		"php": "PHP",
		"phpdoc": "PHPDoc",
		"php-extras": "PHP Extras",
		"plsql": "PL/SQL",
		"powerquery": "PowerQuery",
		"pq": "PowerQuery",
		"mscript": "PowerQuery",
		"powershell": "PowerShell",
		"properties": ".properties",
		"protobuf": "Protocol Buffers",
		"purebasic": "PureBasic",
		"pbfasm": "PureBasic",
		"purs": "PureScript",
		"py": "Python",
		"q": "Q (kdb+ database)",
		"qml": "QML",
		"rkt": "Racket",
		"jsx": "React JSX",
		"tsx": "React TSX",
		"renpy": "Ren'py",
		"rpy": "Ren'py",
		"rest": "reST (reStructuredText)",
		"robotframework": "Robot Framework",
		"robot": "Robot Framework",
		"rb": "Ruby",
		"sas": "SAS",
		"sass": "Sass (Sass)",
		"scss": "Sass (Scss)",
		"shell-session": "Shell session",
		"sh-session": "Shell session",
		"shellsession": "Shell session",
		"sml": "SML",
		"smlnj": "SML/NJ",
		"solidity": "Solidity (Ethereum)",
		"sol": "Solidity (Ethereum)",
		"solution-file": "Solution file",
		"sln": "Solution file",
		"soy": "Soy (Closure Template)",
		"sparql": "SPARQL",
		"rq": "SPARQL",
		"splunk-spl": "Splunk SPL",
		"sqf": "SQF: Status Quo Function (Arma 3)",
		"sql": "SQL",
		"iecst": "Structured Text (IEC 61131-3)",
		"t4-templating": "T4 templating",
		"t4-cs": "T4 Text Templates (C#)",
		"t4": "T4 Text Templates (C#)",
		"t4-vb": "T4 Text Templates (VB)",
		"tap": "TAP",
		"terminal": "Terminal",
		"tt2": "Template Toolkit 2",
		"toml": "TOML",
		"trig": "TriG",
		"ts": "TypeScript",
		"tsconfig": "TSConfig",
		"uscript": "UnrealScript",
		"uc": "UnrealScript",
		"vbnet": "VB.Net",
		"vhdl": "VHDL",
		"vim": "vim",
		"visual-basic": "Visual Basic",
		"vba": "VBA",
		"vb": "Visual Basic",
		"wasm": "WebAssembly",
		"wiki": "Wiki markup",
		"xeoracube": "XeoraCube",
		"xml-doc": "XML doc (.net)",
		"xojo": "Xojo (REALbasic)",
		"xquery": "XQuery",
		"yaml": "YAML",
		"yml": "YAML",
		"yang": "YANG"
  }/*]*/;

  const icons = {
    none: "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path fill=\"#d1d5db\" d=\"M22 6h-6v-6l6 6zm-8 2v-8h-12v24h20v-16h-8z\"/></svg>",
    text: "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path fill=\"#d1d5db\" d=\"M22 6h-6v-6l6 6zm-8 2v-8h-12v24h20v-16h-8z\"/></svg>",
    html: "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"22\" height=\"22\" viewBox=\"0 0 256 292\" version=\"1.1\">\n    <!-- Generated by Pixelmator Pro 2.0.3 -->\n    <path id=\"Path\" d=\"M255.555 6.766 L232.314 267.126 127.844 296.088 23.662 267.166 0.445 6.766 Z\" fill=\"#e44d26\" fill-opacity=\"1\" stroke=\"none\"/>\n    <path id=\"Path-1\" d=\"M128 273.95 L212.417 250.547 232.277 28.057 128 28.057 Z\" fill=\"#f16529\" fill-opacity=\"1\" stroke=\"none\"/>\n    <path id=\"Path-2\" d=\"M82.82 91.932 L128 91.932 128 59.995 47.917 59.995 48.681 68.563 56.531 156.573 128 156.573 128 124.636 85.739 124.636 Z M90.018 172.542 L57.958 172.542 62.432 222.688 127.853 240.848 128 240.808 128 207.58 127.86 207.617 92.292 198.013 Z\" fill=\"#ebebeb\" fill-opacity=\"1\" stroke=\"none\"/>\n    <path id=\"Path-3\" d=\"M127.89 156.573 L167.217 156.573 163.509 197.993 127.889 207.607 127.889 240.833 193.362 222.688 193.842 217.292 201.348 133.212 202.127 124.636 127.89 124.636 Z M127.89 91.854 L127.89 91.932 205.033 91.932 205.673 84.754 207.129 68.563 207.892 59.995 127.89 59.995 127.89 91.855 Z\" fill=\"#ffffff\" fill-opacity=\"1\" stroke=\"none\"/>\n   </svg>",
    js: "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 1052 1052\"><path fill=\"#f0db4f\" d=\"M0 0h1052v1052H0z\"/><path d=\"M965.9 801.1c-7.7-48-39-88.3-131.7-125.9-32.2-14.8-68.1-25.399-78.8-49.8-3.8-14.2-4.3-22.2-1.9-30.8 6.9-27.9 40.2-36.6 66.6-28.6 17 5.7 33.1 18.801 42.8 39.7 45.4-29.399 45.3-29.2 77-49.399-11.6-18-17.8-26.301-25.4-34-27.3-30.5-64.5-46.2-124-45-10.3 1.3-20.699 2.699-31 4-29.699 7.5-58 23.1-74.6 44-49.8 56.5-35.6 155.399 25 196.1 59.7 44.8 147.4 55 158.6 96.9 10.9 51.3-37.699 67.899-86 62-35.6-7.4-55.399-25.5-76.8-58.4-39.399 22.8-39.399 22.8-79.899 46.1 9.6 21 19.699 30.5 35.8 48.7 76.2 77.3 266.899 73.5 301.1-43.5 1.399-4.001 10.6-30.801 3.199-72.101zm-394-317.6h-98.4c0 85-.399 169.4-.399 254.4 0 54.1 2.8 103.7-6 118.9-14.4 29.899-51.7 26.2-68.7 20.399-17.3-8.5-26.1-20.6-36.3-37.699-2.8-4.9-4.9-8.7-5.601-9-26.699 16.3-53.3 32.699-80 49 13.301 27.3 32.9 51 58 66.399 37.5 22.5 87.9 29.4 140.601 17.3 34.3-10 63.899-30.699 79.399-62.199 22.4-41.3 17.6-91.3 17.4-146.6.5-90.2 0-180.4 0-270.9z\" fill=\"#323330\"/></svg>",
    bash: "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" viewBox=\"0 0 20 20\" fill=\"#d1d5db\">\n    <path fill-rule=\"evenodd\" d=\"M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3.293 1.293a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414L7.586 10 5.293 7.707a1 1 0 010-1.414zM11 12a1 1 0 100 2h3a1 1 0 100-2h-3z\" clip-rule=\"evenodd\" />\n  </svg>",
    terminal: "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" viewBox=\"0 0 20 20\" fill=\"#d1d5db\">\n    <path fill-rule=\"evenodd\" d=\"M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3.293 1.293a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414L7.586 10 5.293 7.707a1 1 0 010-1.414zM11 12a1 1 0 100 2h3a1 1 0 100-2h-3z\" clip-rule=\"evenodd\" />\n  </svg>",
    json: "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"22\" height=\"22\" viewBox=\"0 0 56 56\" version=\"1.1\">  <g id=\"group\"> <g id=\"group-1\"> <path id=\"Path\" d=\"M11.888 22.704 L11.888 14.873 C11.888 13.794 12.766 12.915 13.846 12.915 14.929 12.915 15.804 12.038 15.804 10.958 15.804 9.877 14.929 9 13.846 9 10.608 9 7.973 11.635 7.973 14.873 L7.973 22.704 C7.973 24.863 6.217 26.619 4.058 26.619 2.975 26.619 2.1 27.496 2.1 28.577 2.1 29.658 2.975 30.535 4.058 30.535 6.217 30.535 7.973 32.291 7.973 34.45 L7.973 42.281 C7.973 45.519 10.608 48.154 13.846 48.154 14.929 48.154 15.804 47.277 15.804 46.196 15.804 45.116 14.929 44.238 13.846 44.238 12.766 44.238 11.888 43.359 11.888 42.281 L11.888 34.45 C11.888 32.101 10.827 30.014 9.183 28.577 10.827 27.14 11.888 25.053 11.888 22.704 Z\" fill=\"#ffd76d\" fill-opacity=\"1\" stroke=\"none\"/> <path id=\"Path-1\" d=\"M30.487 21.725 C30.487 23.347 29.172 24.662 27.55 24.662 25.928 24.662 24.613 23.347 24.613 21.725 24.613 20.103 25.928 18.788 27.55 18.788 29.172 18.788 30.487 20.103 30.487 21.725 Z\" fill=\"#ffd76d\" fill-opacity=\"1\" stroke=\"none\"/> <path id=\"Path-2\" d=\"M51.042 26.619 C48.883 26.619 47.127 24.863 47.127 22.704 L47.127 14.873 C47.127 11.635 44.492 9 41.254 9 40.171 9 39.296 9.877 39.296 10.958 39.296 12.038 40.171 12.915 41.254 12.915 42.334 12.915 43.212 13.794 43.212 14.873 L43.212 22.704 C43.212 25.053 44.273 27.14 45.917 28.577 44.273 30.014 43.212 32.101 43.212 34.45 L43.212 42.281 C43.212 43.359 42.334 44.238 41.254 44.238 40.171 44.238 39.296 45.116 39.296 46.196 39.296 47.277 40.171 48.154 41.254 48.154 44.492 48.154 47.127 45.519 47.127 42.281 L47.127 34.45 C47.127 32.291 48.883 30.535 51.042 30.535 52.125 30.535 53 29.658 53 28.577 53 27.496 52.125 26.619 51.042 26.619 Z\" fill=\"#ffd76d\" fill-opacity=\"1\" stroke=\"none\"/> <path id=\"Path-3\" d=\"M27.55 32.492 C26.467 32.492 25.592 33.369 25.592 34.45 L25.592 40.323 C25.592 41.404 26.467 42.281 27.55 42.281 28.633 42.281 29.508 41.404 29.508 40.323 L29.508 34.45 C29.508 33.369 28.633 32.492 27.55 32.492 Z\" fill=\"#ffd76d\" fill-opacity=\"1\" stroke=\"none\"/> </g> </g> <g id=\"group-2\"/> <g id=\"group-3\"/> <g id=\"group-4\"/> <g id=\"group-5\"/> <g id=\"group-6\"/> <g id=\"group-7\"/> <g id=\"group-8\"/> <g id=\"group-9\"/> <g id=\"group-10\"/> <g id=\"group-11\"/> <g id=\"group-12\"/> <g id=\"group-13\"/> <g id=\"group-14\"/> <g id=\"group-15\"/> <g id=\"group-16\"/> </svg>",
    ts: "<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Layer_1\" viewBox=\"0 0 400 400\" width=\"20\" height=\"20\"><style>.st0{fill:#007acc}.st1{fill:#fff}</style><path class=\"st0\" d=\"M0 200V0h400v400H0\"/><path class=\"st1\" d=\"M87.7 200.7V217h52v148h36.9V217h52v-16c0-9 0-16.3-.4-16.5 0-.3-31.7-.4-70.2-.4l-70 .3v16.4l-.3-.1zM321.4 184c10.2 2.4 18 7 25 14.3 3.7 4 9.2 11 9.6 12.8 0 .6-17.3 12.3-27.8 18.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20 5.5-20 16 0 3.2.6 5 1.8 7.6 2.7 5.5 7.7 8.8 23.2 15.6 28.6 12.3 41 20.4 48.5 32 8.5 13 10.4 33.4 4.7 48.7-6.4 16.7-22 28-44.3 31.7-7 1.2-23 1-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4 15-8.7 11.3-6.6 2.6 3.5c3.3 5.2 10.7 12.2 15 14.6 13 6.7 30.4 5.8 39-2 3.7-3.4 5.3-7 5.3-12 0-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7 4.3-20 19.4-34 41-38 7-1.4 23.5-.8 30.4 1l-.2.2z\"/></svg>",
    shell: "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"#e2e2e2\"><rect width=\"20\" height=\"4\" x=\"1\" y=\"9\"/><rect width=\"20\" height=\"4\" x=\"1\" y=\"17\"/><rect width=\"4\" height=\"20\" x=\"5\" y=\"5\" /><rect width=\"4\" height=\"20\" x=\"13\" y=\"5\"/><rect width=\"4\" height=\"12\" x=\"25\" y=\"5\"/><rect width=\"4\" height=\"4\" x=\"25\" y=\"21\"/></svg>"
  }

	Prism.plugins.toolbar.registerButton('show-language', function (env) {
		var pre = env.element.parentNode;
		if (!pre || !/pre/i.test(pre.nodeName)) {
			return;
    }

		/**
		 * Tries to guess the name of a language given its id.
		 *
		 * @param {string} id The language id.
		 * @returns {string}
		 */
		function guessTitle(id) {
			if (!id) {
				return id;
			}
			return (id.substring(0, 1).toUpperCase() + id.substring(1)).replace(/s(?=cript)/, 'S');
    }

		var language = pre.getAttribute('data-language') || Languages[env.language] || guessTitle(env.language);

		if (!language) {
			return;
		}
    var element = document.createElement('span');
    element.classList.add("languageIcon")
		element.innerHTML += icons[env.language] || language;

		return element;
	});

})();
